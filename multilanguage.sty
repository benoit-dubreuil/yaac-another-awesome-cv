% Author: Riccardo T.
% Source: https://tex.stackexchange.com/a/31401
% Access date: 2023-01-25
% Modified by: Beno√Æt Dubreuil
% Last modification date: 2023-01-25

%
% Environment settings
%


\RequirePackage{etoolbox}
\RequirePackage{xstring}


\newcommand{\setdoclang}[2]
{
  \main@language{#2}
  \newcommand{doclang}{#2}
  \newcommand{doclangshort}{#1}
}

\ifcsdef{bbl@main@language}
{\setdoclang{\StrLeft{\bbl@main@language}{2}}{\bbl@main@language}}
{\setdoclang{en}{english}}


%
% Multilingual support commands
%
\newcommand{\langif}[3]
{
  \ifthenelse{\equal{#1}{\doclang} \or \equal{#1}{\doclangshort}}
  {#2}
  {#3}%
}
\newcommand{\lang}[2]{\langif{#1}{#2}{}}
\newcommand{\sectionlang}[2]{\lang{#1}{\section{#2}}}
\newcommand{\subsectionlang}[2]{\lang{#1}{\subsection{#2}}}
\newcommand{\subsubsectionlang}[2]{\lang{#1}{\subsubsection{#2}}}
